<!DOCTYPE html>
<html lang='en'>
<head>
    <title>Stuffy</title>
    <meta charset='UTF-8' />
    <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1' />
    <meta name='viewport' content='width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0'>
    <link rel='icon' type='image/png' href='./files/logo/favicon.png' />
    <link rel='stylesheet' href='./css/core.css' type='text/css'>
    <link rel='stylesheet' href='./css/stuff.css' type='text/css'>
</head>
<body>

    <script type='importmap'>
        {
            "imports": {
                "stuffy":           "../src/engine/Stuffy.js",

                "pixi" :            "./libs/pixi.min.mjs"
            }
        }
    </script>

    <div id="display" class="stuff-display"></div>

    <script src="./libs/matter.min.js"></script>

    <script type='module'>

        import * as PIXI from 'pixi';

        import {
            Application
         } from 'stuffy';

        const app = new Application({
            element: document.getElementById('display'),
            backgroundColor: '#1099bb',
        })

        // Sprite
        const bunny = PIXI.Sprite.from('./files/textures/dragon.png');
        bunny.anchor.set(0.5);
        bunny.x = app.screen.width / 2;
        bunny.y = app.screen.height / 2;
        app.stage.addChild(bunny);

        // Text
        const text = new PIXI.Text('This is a PixiJS text', {
            fontFamily: 'Arial',
            fontSize: 24,
            fill: 0xff1010,
            align: 'center',
        });
        app.stage.addChild(text);

        // Update
        app.ticker.add((delta) => {
            // frame-independent transformation, delta is 1 if running at 100% performance

            bunny.rotation += 0.01 * delta;

            text.x += 0.1 * delta;
            text.y += 0.1 * delta;
        });

    </script>

</body>
</html>